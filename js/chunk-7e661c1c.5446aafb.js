(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e661c1c"],{"11e9":function(e,t,o){var a=o("52a7"),n=o("4630"),r=o("6821"),s=o("6a99"),l=o("69a8"),i=o("c69a"),m=Object.getOwnPropertyDescriptor;t.f=o("9e1e")?m:function(e,t){if(e=r(e),t=s(t,!0),i)try{return m(e,t)}catch(o){}if(l(e,t))return n(!a.f.call(e,t),e[t])}},1860:function(e,t,o){var a=o("f332");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=o("499e").default;n("7a7dd840",a,!0,{})},"4a8f":function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,"\n.game-table[data-v-5cb1ccd1] {\n  height: calc(100%-62px);\n  background-color: #fff;\n  position: relative;\n}\n.button[data-v-5cb1ccd1] {\n  padding: 5px;\n  margin-bottom: 10px;\n  float: right;\n}\ntr td[data-v-5cb1ccd1]:nth-child(2) {\n  text-align: center;\n  margin-left: 20px;\n  display: block;\n}\ntd[data-v-5cb1ccd1] {\n  text-align: center;\n}\n.el-dropdown-link[data-v-5cb1ccd1] {\n  cursor: pointer;\n  color: #409EFF;\n}\n.el-icon-arrow-down[data-v-5cb1ccd1] {\n  font-size: 12px;\n}\n",""])},"56d3":function(e,t,o){"use strict";o.r(t);o("c5f6");var a={name:"GameForm",props:{formLabel:Array,form:Object,inline:Boolean},data:function(){return{}}},n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"form",attrs:{"lable-width":"100px",model:e.form,inline:e.inline}},[e._l(e.formLabel,(function(t){return o("el-form-item",{key:t.label,attrs:{label:t.label}},["input"===t.type?o("el-input",{attrs:{placeholder:"请输入"+t.label},model:{value:e.form[t.model],callback:function(o){e.$set(e.form,t.model,o)},expression:"form[item.model]"}}):e._e(),e._v(" "),"switch"==t.type?o("el-switch",{model:{value:e.form[t.model],callback:function(o){e.$set(e.form,t.model,o)},expression:"form[item.model]"}}):e._e(),e._v(" "),"select"===t.type?o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form[t.model],callback:function(o){e.$set(e.form,t.model,o)},expression:"form[item.model]"}},e._l(t.opts,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1)})),e._v(" "),o("el-form-item",[e._t("default")],2)],2)},r=[],s=o("2455"),l=!1,i=null,m=null,d=null,c=Object(s["a"])(a,n,r,l,i,m,d),p=c.exports,u={name:"GameTable",props:{tableData:Array,tableLabel:Array},data:function(){return{}},methods:{getGameName:function(e){document.getElementById("lableName").innerText=e,"全部"==e&&(e=""),this.$emit("GameName",e)},getGameGrade:function(e){document.getElementById("lableGrade").innerText=e,"全部"==e&&(e=""),this.$emit("GameGrade",e)},getGameMoney:function(e){document.getElementById("lableMoney").innerText=e,"全部"==e&&(e=""),this.$emit("GameMoney",e)},getGameSystem:function(e){document.getElementById("lableSystem").innerText=e,"全部"==e&&(e=""),this.$emit("GameSystem",e)},getOrder:function(e,t,o,a,n){this.$emit("getOrder",e,t,o,a,n)}}},f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"game-table"},[o("el-row",[o("div",{staticStyle:{height:"30px"}},[o("el-dropdown",{staticStyle:{"margin-left":"50px"},on:{command:e.getGameName}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                  游戏名称"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"王者荣耀"}},[e._v("王者荣耀")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"和平精英"}},[e._v("和平精英")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"英雄联盟"}},[e._v("英雄联盟")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"全部"}},[e._v("全部")])],1)],1),e._v(" "),o("span",{attrs:{id:"lableName",name:"lableName"}}),e._v(" "),o("el-dropdown",{staticStyle:{"margin-left":"50px"},on:{command:e.getGameGrade}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                  代练等级"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"铜牌代练"}},[e._v("铜牌代练")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"银牌代练"}},[e._v("银牌代练")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"金牌代练"}},[e._v("金牌代练")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"全部"}},[e._v("全部")])],1)],1),e._v(" "),o("span",{attrs:{id:"lableGrade",name:"lableGrade"}}),e._v(" "),o("el-dropdown",{staticStyle:{"margin-left":"50px"},on:{command:e.getGameMoney}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                  价格"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"1-100"}},[e._v("1-100")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"100-200"}},[e._v("100-200")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"200-500"}},[e._v("200-500")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"500-1000"}},[e._v("500-1000")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"1000-2000"}},[e._v("1000-2000")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"2000-5000"}},[e._v("2000-5000")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"5000-10000"}},[e._v("5000-10000")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"10000-20000"}},[e._v("10000-20000")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"20000-50000"}},[e._v("20000-50000")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"全部"}},[e._v("全部")])],1)],1),e._v(" "),o("span",{attrs:{id:"lableMoney",name:"lableMoney"}}),e._v(" "),o("el-dropdown",{staticStyle:{"margin-left":"50px"},on:{command:e.getGameSystem}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                  系统"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"安卓系统"}},[e._v("安卓系统")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"苹果系统"}},[e._v("苹果系统")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"全部"}},[e._v("全部")])],1)],1),e._v(" "),o("span",{attrs:{id:"lableSystem",name:"lableSystem"}})],1),e._v(" "),e._l(e.tableData,(function(t){return o("el-col",{key:t.gameid,staticStyle:{"margin-top":"30px"},attrs:{span:5,offset:1}},[o("el-card",{attrs:{"body-style":{padding:"0px"}}},[o("div",{staticStyle:{padding:"14px"}},[o("span",{staticStyle:{"text-align":"center",display:"block"}},[e._v("订单信息")]),e._v(" "),o("div",{staticClass:"bottom clearfix"},[o("tr",[o("td",[e._v("订单编号:")]),e._v(" "),o("td",[e._v(e._s(t.gameid))])]),e._v(" "),o("tr",[o("td",[e._v("游戏名称:")]),e._v(" "),o("td",[e._v(e._s(t.gamename))])]),e._v(" "),o("tr",[o("td",[e._v("订单内容:")]),e._v(" "),o("td",[e._v(e._s(t.content))])]),e._v(" "),o("tr",[o("td",[e._v("订单时间:")]),e._v(" "),o("td",[e._v(e._s(t.completetime))])]),e._v(" "),o("tr",[o("td",[e._v("代练等级:")]),e._v(" "),o("td",[e._v(e._s(t.grade))])]),e._v(" "),o("tr",[o("td",[e._v("价格:")]),e._v(" "),o("td",[e._v(e._s(t.money)+"元")])]),e._v(" "),o("tr",[o("td",[e._v("系统:")]),e._v(" "),o("td",[e._v(e._s(t.systems))])]),e._v(" "),o("el-button",{staticClass:"button",attrs:{type:"info"},on:{click:function(o){return e.getOrder(t.gameid,t.sendorder,t.getorder,t.money,t.grade)}}},[e._v("接单")])],1)])])],1)}))],2)],1)},h=[];function g(e){o("f256")}var v=!1,y=g,b="data-v-5cb1ccd1",_=null,w=Object(s["a"])(u,f,h,v,y,b,_),G=w.exports,x={name:"getgame",components:{GameForm:p,GameTable:G},data:function(){return{operateType:"add",isShow:!1,chooseName:"",chooseGrade:"",chooseMoney:"",chooseSystem:"",mymoney:"",mygrade:"",operateFormLabel:[{model:"gameid",label:"订单编号",type:"input"},{model:"gamename",label:"游戏名称",type:"select",opts:[{label:"王者荣耀",value:1},{label:"和平精英",value:2},{label:"英雄联盟",value:3}]},{model:"content",label:"订单内容",type:"input"},{model:"completetime",label:"订单时间",type:"select",opts:[{label:"12小时",value:1},{label:"一天",value:2},{label:"两天",value:3},{label:"三天",value:4},{label:"一周",value:5},{label:"两周",value:6},{label:"一个月",value:7},{label:"三个月",value:8}]},{model:"grade",label:"代练等级",type:"select",opts:[{label:"铜牌代练",value:1},{label:"银牌代练",value:2},{label:"金牌代练",value:3}]},{model:"money",label:"价格",type:"input"},{model:"system",label:"系统",type:"select",opts:[{label:"安卓系统",value:1},{label:"苹果系统",value:2}]},{model:"orderusername",label:"游戏账号",type:"input"},{model:"orderpassword",label:"游戏密码",type:"input"}],operateForm:{gameid:"",gamename:"",content:"",completetime:"",grade:"",money:"",system:"",sendorder:"",getorder:"",orderusername:"",orderpassword:""},formLabel:[{model:"keyword",label:"",type:"input"}],searchForm:{keyword:""},tableData:[],tableLabel:[{prop:"gameid",label:"订单编号"},{prop:"gamename",label:"游戏名称"},{prop:"content",label:"订单内容"},{prop:"completetime",label:"订单时间"},{prop:"grade",label:"代练等级"},{prop:"money",label:"价格"},{prop:"systems",label:"系统"},{prop:"sendorder",label:"发单人"},{prop:"getorder",label:"接单人"},{prop:"orderusername",label:"游戏账号"},{prop:"orderpassword",label:"游戏密码"}]}},methods:{confirm:function(){var e=this;this.operateForm.sendorder=this.$store.state.user.token;var t=this.operateForm.money,o=this.$store.state.user.token;this.$http.post("http://127.0.0.1:3000/api/selectmoney",{telephone:o}).then((function(t){console.log("查询余额",t),e.mymoney=t.data[0].money})),console.log("我的余额:",this.mymoney,"代理费:",t),""==this.operateForm.gameid?this.$message.warning("游戏编号不能为空"):""==this.operateForm.gamename?this.$message.warning("游戏名称不能为空"):""==this.operateForm.content?this.$message.warning("订单内容不能为空"):""==this.operateForm.completetime?this.$message.warning("订单时间不能为空"):""==this.operateForm.grade?this.$message.warning("代练等级不能为空"):""==this.operateForm.money?this.$message.warning("价格不能为空"):""==this.operateForm.system?this.$message.warning("系统不能为空"):""==this.operateForm.orderusername?this.$message.warning("游戏账号不能为空"):""==this.operateForm.orderpassword?this.$message.warning("游戏密码不能为空"):Number(this.mymoney)-Number(t)<=0?this.$message.warning("余额不足！"):(this.$http.post("http://127.0.0.1:3000/api/setGame",this.operateForm).then((function(t){console.log("添加订单",t),e.isShow=!1,e.getList()})),this.$http.post("http://127.0.0.1:3000/api/setGameMoney",{telephone:o,money:t}).then((function(e){console.log("添加订单时扣除代练费",e),console.log("账号:",o,"代练费",t)})))},addGame:function(){this.isShow=!0,this.operateType="add",this.operateForm={gameid:"",gamename:"",content:"",completetime:"",grade:"",money:"",system:"",sendorder:"",getorder:"",orderusername:"",orderpassword:""}},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=this.$store.state.user.token;""==t?this.$http.post("http://127.0.0.1:3000/api/selectAllGame",{telephone:o}).then((function(t){console.log("查找全部订单",t),e.tableData=t.data})):this.$http.post("http://127.0.0.1:3000/api/selectGameId",{gameid:t}).then((function(t){console.log("查找订单",t),e.tableData=t.data}))},getOrder:function(e,t,o,a,n){var r=this,s=this.$store.state.user.token,l=this.$store.state.user.token,i=.2*a;this.$http.post("http://127.0.0.1:3000/api/selectMoneyAndGrade",{telephone:l}).then((function(a){console.log("查询余额和代练等级",a),r.mymoney=a.data[0].money,r.mygrade=a.data[0].grade,console.log("我的余额:",r.mymoney,"订金:",i,"我的代练等级:",r.mygrade,"订单的代练等级:",n),"铜牌代练"==r.mygrade?r.mygrade=1:"银牌代练"==r.mygrade?r.mygrade=2:"金牌代练"==r.mygrade&&(r.mygrade=3),"铜牌代练"==n?n=1:"银牌代练"==n?n=2:"金牌代练"==n&&(n=3),t==s?r.$message.warning("此订单是您发出的订单！"):null!=o?r.$message.warning("此订单已被接取！"):r.mygrade<n?r.$message.warning("代练等级不够！"):r.$confirm("接单需要支付"+i+"元的订金，是否继续？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){r.mymoney-i>=0?(r.$http.post("http://127.0.0.1:3000/api/AddMyGet",{gameid:e,getorder:s}).then((function(){r.$message({type:"success",message:"接单成功"}),console.log("接单成功"),r.getList()})),r.$http.post("http://127.0.0.1:3000/api/getGameMoney",{telephone:l,Deposit:i}).then((function(e){console.log("接取订单时扣除订金",e),console.log("账号:",l,"订金",i)}))):r.$message.warning("余额不足")}))}))},getGameName:function(e){this.chooseName=e,this.choose()},getGameGrade:function(e){this.chooseGrade=e,this.choose()},getGameMoney:function(e){this.chooseMoney=e,this.choose()},getGameSystem:function(e){this.chooseSystem=e,this.choose()},choose:function(){var e=this,t=this.$store.state.user.token;console.log("游戏名称：",this.chooseName,"代练等级：",this.chooseGrade,"价格:",this.chooseMoney,"系统:",this.chooseSystem),this.$http.post("http://127.0.0.1:3000/api/choose",[this.chooseName,this.chooseGrade,this.chooseMoney,this.chooseSystem,t]).then((function(t){console.log("筛选",t),e.tableData=t.data}))}},mounted:function(){this.getList()}},$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"manage"},[o("el-dialog",{attrs:{title:"add"===e.operateType?"新增订单":"修改订单",visible:e.isShow},on:{"update:visible":function(t){e.isShow=t}}},[o("game-form",{ref:"form",attrs:{formLabel:e.operateFormLabel,form:e.operateForm,inline:!0}}),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1),e._v(" "),o("div",{staticClass:"manage-header"},[o("el-button",{attrs:{type:"primary"},on:{click:e.addGame}},[e._v("+ 我要发单")]),e._v(" "),o("game-form",{ref:"form",attrs:{formLabel:e.formLabel,form:e.searchForm,inline:!0}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getList(e.searchForm.keyword)}}},[e._v("搜索")])],1)],1),e._v(" "),o("game-table",{attrs:{tableData:e.tableData,tableLabel:e.tableLabel},on:{GameName:e.getGameName,GameGrade:e.getGameGrade,GameMoney:e.getGameMoney,GameSystem:e.getGameSystem,getOrder:e.getOrder}})],1)},k=[];function N(e){o("1860")}var S=!1,F=N,I="data-v-413d382e",E=null,M=Object(s["a"])(x,$,k,S,F,I,E);t["default"]=M.exports},"5dbc":function(e,t,o){var a=o("d3f4"),n=o("8b97").set;e.exports=function(e,t,o){var r,s=t.constructor;return s!==o&&"function"==typeof s&&(r=s.prototype)!==o.prototype&&a(r)&&n&&n(e,r),e}},"8b97":function(e,t,o){var a=o("d3f4"),n=o("cb7c"),r=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,o){return r(e,o),t?e.__proto__=o:a(e,o),e}}({},!1):void 0),check:r}},9093:function(e,t,o){var a=o("ce10"),n=o("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},aa77:function(e,t,o){var a=o("5ca1"),n=o("be13"),r=o("79e5"),s=o("fdef"),l="["+s+"]",i="​",m=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),c=function(e,t,o){var n={},l=r((function(){return!!s[e]()||i[e]()!=i})),m=n[e]=l?t(p):s[e];o&&(n[o]=m),a(a.P+a.F*l,"String",n)},p=c.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(m,"")),2&t&&(e=e.replace(d,"")),e};e.exports=c},c5f6:function(e,t,o){"use strict";var a=o("7726"),n=o("69a8"),r=o("2d95"),s=o("5dbc"),l=o("6a99"),i=o("79e5"),m=o("9093").f,d=o("11e9").f,c=o("86cc").f,p=o("aa77").trim,u="Number",f=a[u],h=f,g=f.prototype,v=r(o("2aeb")(g))==u,y="trim"in String.prototype,b=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():p(t,3);var o,a,n,r=t.charCodeAt(0);if(43===r||45===r){if(o=t.charCodeAt(2),88===o||120===o)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+t}for(var s,i=t.slice(2),m=0,d=i.length;m<d;m++)if(s=i.charCodeAt(m),s<48||s>n)return NaN;return parseInt(i,a)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof f&&(v?i((function(){g.valueOf.call(o)})):r(o)!=u)?s(new h(b(t)),o,f):b(t)};for(var _,w=o("9e1e")?m(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;w.length>G;G++)n(h,_=w[G])&&!n(f,_)&&c(f,_,d(h,_));f.prototype=g,g.constructor=f,o("2aba")(a,u,f)}},f256:function(e,t,o){var a=o("4a8f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=o("499e").default;n("41492d66",a,!0,{})},f332:function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,"\n.manage-header[data-v-413d382e] {\n  margin-top: 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n",""])},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-7e661c1c.5446aafb.js.map